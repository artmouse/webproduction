<h1>
    Правила разработки документации для OneBox. Как писать документацию?
</h1>

<br/>
<br/>
<h2>
    Что такое документация OneBox?
</h2>

<p>
    Это набор инструкций для пользователя и для разработчика, которые описывают что такое OneBox,
    как он работает, как с ним работать.
    <br/>
    Документация доступна по URL http://projectname/doc/ всем желающим, в каждом проекте.
</p>

<br/>
<br/>
<h2>
    Где хранится документация OneBox?
</h2>

<p>
    Документация в проекте wpshop представляет собой набор HTML файлов и находится в директории /docs/.
    <br/>
    Изображения, используемые на страницах, хранятся в папке /docs/_images/.
    <br/>
    Вы можете изменить эту директорию если пожелаете. Главное, чтобы картинки хранились вместе с документацией.
</p>
<br/>
<img src="/modules/api-docs/docs/_images/how_to_make_documentation_folder.png"/>
<br/>

<br/>
<br/>
<h2>
    Документация в модулях
</h2>

<p>
    Модули расширяют документацию. В каждом модуле может быть своя директория /docs/, в которой аналогичная структура.
    Движок документации собирает все в одну структуру.
</p>
<br/>

<p>
    Документация, относящаяся к модулю, хранится внутри этого модуля (так же в папке /docs/)
    и имеет такую же структуру, как и в основном проекте.
    <br/>
    Чтобы создать документацию в модуле, необходимо:
</p>

<ul>
    <li>
        Создать папку /docs/ и все необходимые папки и файлы внутри нее.
        Файл config.php идентичный тому, что находится в основном проекте.
    </li>
    <li>
        В файле include.php, который находится в корне папки модуля, добавить строку:
    </li>
</ul>

<code>
    <pre>include_once(dirname(__FILE__).'/docs/config.php');</pre>
</code>

<br/>
<br/>
<h2>Структура документации</h2>

<p>
    Страница index.html должна быть обязательно.
    <br/>
    Все страницы нужно обязательно зарегистрировать в системе, прописав их в конфиг файле (config.php). Этот
    файл имеет примерно следующее содержание:
</p>

<br/>
<code>
    <pre>
$pageArray[] = array(
    'key' => 'first_page',
    'filename' => 'first_page.html',
    'title' => 'First Page Title',
    'parent' => '',
    'sort' => 1
);

$pageArray[] = array(
    'key' => 'second_page',
    'filename' => 'second_page.html',
    'title' => 'Second Page Title',
    'parent' => 'first-page',
    'sort' => 0
);</pre>
</code>
<br/>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <thead>
    <tr>
        <td>Параметр</td>
        <td>Обязательнность</td>
        <td>Описание</td>
        <td>Значение по умолчанию</td>
    </tr>
    </thead>

    <tr valign="top">
        <td><strong>key</strong></td>
        <td>Да</td>
        <td>"Ключ" станицы, должен быть уникальным; этот ключ формирует URL, по которому будет открываться данная
            страница. Использование значения key в ключе parent другой страницы определяет, какая страница является
            родительской, а какая дочерней.
        </td>
        <td>Нет</td>
    </tr>

    <tr valign="top">
        <td><strong>filename</strong></td>
        <td>Да</td>
        <td>Путь к файлу внутри папки /docs/; файлы можно хранить как в корне папки /docs/, так и в подпапках.
        </td>
        <td>Нет</td>
    </tr>

    <tr valign="top">
        <td><strong>title</strong></td>
        <td>Да</td>
        <td>Название страницы/раздела, будет выводиться в меню; меню (слева на всех страницах) формируется
            автоматически.
        </td>
        <td>Нет</td>
    </tr>

    <tr valign="top">
        <td><strong>parent</strong></td>
        <td>Да</td>
        <td>"Ключ" родительской страницы; если страница находится в корне - необходимо указать пустые ковычки.
        </td>
        <td>Нет</td>
    </tr>

    <tr valign="top">
        <td><strong>sort</strong></td>
        <td>Нет</td>
        <td>Числовое значение, которое задает порядок для сортировки основных разделов в документации.
        </td>
        <td>Нет</td>
    </tr>

</table>
<br/>

<p>
    Желательно, чтобы ключи, HTML файлы и картинки имели "читабельные названия", чтобы сразу можно было понять, к чему
    они относятся, и о чем в них идет речь.
</p>
<br/>

<br/>
<br/>
<h2>Создание новой страницы документации</h2>

<p>
    Чтобы создать новую страницу документации, необходимо:
</p>
<ul>
    <li>
        Создать новый HTML файл в папке /docs/. Если такой папки в корне модуля нет - создайте ее.
    </li>
    <li>
        Заполнить содержание страницы, оформить контент в виде html-разметки и поместить файлы в папку /_images/.
    </li>
    <li>
        В файл config.php добавить следующие строки (до разделительной линии):
    </li>
</ul>

<code>
    <pre>
$pageArray[] = array(
    'key' => 'УНИКАЛЬНЫЙ КЛЮЧ',
    'filename' => 'ПУТЬ К ФАЙЛУ',
    'title' => 'НАЗВАНИЕ СТРАНИЦЫ',
    'parent' => 'РОДИТЕЛЬСКОЙ СТРАНИЦЫ',
    'sort' => 'НОМЕР ДЛЯ СОРТИРОВКИ ОСНОВНЫХ РАЗДЕЛОВ'
);</pre>
</code>
<br/>

<br/>
<br/>
<h2>
    Сортировка разделов
</h2>

<p>
    Порядок сортировки происходит следующим образом.
</p>
<ul>
    <li>
        Раздел, у которого поле sort равно 1, находится первым в меню документации. Чем больше значение поля sort, тем
        ниже будет позиция раздела в меню.
    </li>
    <li>
        Важно! Сортировка имеет значения только для основных разделов. Для подразделов устанавливать sort не нужно.
    </li>
    <li>
        Разделы, которые являются основными, но их порядок неважен (например, «Инструкции») должны стоять в конце
        списка. Для этого нужно задать:
        <br/>
        sort = 901
    </li>
    <li>
        Разделы с одинаковым значением sort выстраиваются в алфавитном порядке.
    </li>
    <li>
        Нумерация разделов идет не по порядку специально, чтобы оставались пустые слоты и можно было вклинивать
        дополнительные разделы в случае надобности без лишних проблем.
    </li>
</ul>

<p>
    Важно! При добавлении нового основного раздела в документацию нижеприведенный список разделов нужно обновить, чтобы
    приоритет разделов в списке оставался наглядным.
</p>
<br/>

<p>
    На данный момент разделы выстроены в таком порядке:
    <br/>
    1 OneBox. Терминология
    <br/>
    11 OneBox меню
    <br/>
    21 Бизнес-процессы
    <br/>
    31 Календарь
    <br/>
    41 Проекты
    <br/>
    51 Задачи
    <br/>
    61 События
    <br/>
    71 Структура
    <br/>
    81 Продукты
    <br/>
    91 Контакты
    <br/>
    101 Заказы
    <br/>
    111 Документы
    <br/>
    121 Склады
    <br/>
    131 Финансы
    <br/>
    141 Как работает OneBox и НДС/VAT
    <br/>
    151 Отчеты
    <br/>
    156 Парсер конкурентов
    <br/>
    161 Загрузка прайсов поставщиков
    <br/>
    171 Наценки и пересчет цен
    <br/>
    181 Коэффициенты умножения дополнительных цен
    <br/>
    901 Инструкции
    <br/>
    901 Инструкция подготовки дизайна интернет магазина
    <br/>
    901 Типы дизайнов для интернет-магазинов на базе OneBox
</p>
<br/>

<br/>
<br/>
<h2>
    Правила разработки документации для OneBox
</h2>

<p>
    При разработке технической документации необходимо обязательно учитывать следующие правила.
</p>

<ol>
    <li><strong>Структура.</strong> Всегда в любой статье должны быть следующие разделы и именно в таком порядке:<br/>
        Название (заголовок h1)<br/>
        Что это такое (h2)<br/>
        Зачем это нужно (h2)<br/>
        Как получить (h2)<br/>
        Как добавить (h2)<br/>
        Как удалить (h2)<br/>
        Как изменить (h2)<br/>
        Примеры (h2)<br/>
        Как это технически работает (h2)
    </li>
    <li><strong>Порядок разделов соблюдать обязательно!</strong></li>
    <li>Некоторые пункты из структуры <strong>можно пропускать</strong>,
        если в них нет смысла или описать их невозможно.
    </li>
    <li>Придерживаться <strong>правил форматирования HTML разметки</strong>, которые описаны чуть ниже.</li>
    <li>Все названия пишите полностью и дописывайте в них OneBox.
        <br/>
        Например: вместо "Правила разработки документации" пишите "Правила разработки документации OneBox".
    </li>
    <li>По возможности название раздела должно <strong>отвечать на вопрос.</strong>
        Например, вместо "Создание страницы" лучше пишите "Как создать новую страницу?"
    </li>
    <li>Не сокращайте названия и слова.</li>
    <li>Пишите названия правильно, без транслита. Например, cron, а не крон.</li>
    <li>При описании параметров в методах нужно оформлять их в в виде таблицы с колонками:
        <ul>
            <li>
                Параметр
            </li>
            <li>
                Обязательность
            </li>
            <li>
                Описание
            </li>
            <li>
                Значение по умолчанию
            </li>
        </ul>
        Пример такой таблицы можно увидеть чуть выше в пункте «Структура документации».
    </li>
    <li><strong>Техническую документацию для разработчиков коммитьте в модуль api-docs.</strong></li>
    <li><strong>Документацию пользователя коммитьте в модуль, к которому относится документация.</strong></li>
</ol>

<p>
    Например, статья «Управление глобальными настройками (settings)» будет содержать:
</p>

<ol>
    <li>Заголовок h1 Управление глобальными настройками (settings)</li>
    <li>h2 Что такое settings?</li>
    <li>h2 Зачем нужны settings?</li>
    <li>h2 Как получить настройку из settings?</li>
    <li>h2 Как дописаться в settings?</li>
    <li>h2 Как удалить значение из settings?</li>
    <li>h2 Как управлять вкладками (tab)?</li>
    <li>h2 Реальные примеры</li>
    <li>h2 Как и где храняться settings?</li>
</ol>

<br/>
<br/>
<h2>
    Правила форматирования HTML разметки
</h2>

<p>
    Главный заголовок — только один:
</p>
<code>
    <pre>
&lt;h1&gt;
...
&lt;/h1&gt;</pre>
</code>
<br/>

<p>
    Подзаголовки, сверху отделяются отступами:
</p>
<code>
    <pre>
&lt;br/&gt;
&lt;br/&gt;
&lt;h2&gt;
...
&lt;/h2&gt;</pre>
</code>
<br/>

<p>
    Абзац:
</p>
<code>
    <pre>
&lt;p&gt;
...
&lt;/p&gt;
&lt;br/&gt;</pre>
</code>
<br/>

<p>
    Если внутри абзаца нужно начать с новой строки:
</p>
<code>
    <pre>
&lt;p&gt;
...
&lt;br/&gt;
...
&lt;/p&gt;
&lt;br/&gt;</pre>
</code>
<br/>

<p>
    Абзац с картинкой:
</p>
<code>
    <pre>
&lt;p&gt;
...
&lt;/p&gt;
&lt;br/&gt;
&lt;img alt="" src="/modules/moduleName/docs/_images/img.png" /&gt;
&lt;br/&gt;
&lt;br/&gt;</pre>
</code>
<br/>

<p>
    Все списки должны быть правильно отформатированы в тегах &lt;ol&gt; &lt;li&gt; или &lt;ul&gt; &lt;li&gt;.
    <br/>
    Запрещено использовать многоуровневые &lt;li&gt;.
    <br/>
    Списки &lt;ul&gt; и &lt;ol&gt; не нужно обрамлять тегами &lt;br/&gt;. Пример:
</p>
<code>
    <pre>
&lt;p&gt;
...
&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;
...
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
...
&lt;/p&gt;
&lt;br/&gt;</pre>
</code>
<br/>

<p>
    Формат для кода:
</p>
<code>
     <pre>
&lt;code&gt;
&lt;pre&gt;
...
&lt;/pre&gt;
&lt;/code&gt;
&lt;br/&gt;</pre>
</code>
<br/>

<p>
    Важно! Чтобы закрывающий тег &lt;/pre&gt; был вплотную к коду, чтобы внизу блока с кодом не было лишней пустой
    строки. Также важно следить за отступами внутри тегов pre.
</p>
<br/>

<p>
    Если перед подзаголовком идет картинка, то один тег br под картинкой следует убрать.
</p>

<code>
     <pre>
&lt;br/&gt;
&lt;img src="/modules/moduleName/docs/_images/img.png"/&gt;
&lt;br/&gt;

&lt;br/&gt;
&lt;br/&gt;
&lt;h2&gt;
...
&lt;/h2&gt;</pre>
</code>
<br/>